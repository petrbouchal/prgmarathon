{
    "collab_server" : "",
    "contents" : "library(jsonlite)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(lubridate)\nlibrary(feather)\nlibrary(ggplot2)\nlibrary(scales)\n\naa <- read_feather(\"prgmarathon.feather\")\n\nyy <- aa %>% \n  mutate(birthDate = parse_date_time(birthDate, \"d.m.Y\"),\n         birthYear = year(birthDate)) %>% \n  group_by(ageGroup) %>% \n  mutate(agediff = mean(birthYear) - birthYear) %>%\n  ungroup() %>% \n  mutate(plotorder = rnorm(n(), 0, 1)) %>% # mix up order so best don't show on\n  arrange(plotorder)                       # top of plot\n\n\nggplot(yy, aes(subeventSplit.distance, \n               subeventSplit.length/splitFinishTime.seconds*3.6, group=runnerId,\n               colour=agediff)) +\n  geom_line(alpha=.1) +\n  scale_color_continuous(low=\"green\",high=\"yellow\") +\n  scale_y_continuous(limits=c(3.6,5*3.6)) + \n  facet_wrap( ~ageGroup) +\n  theme_bw()\n\nxx %>% \n  group_by(occupation, sex, ageGroup) %>%\n  arrange(finishTime.seconds) %>% \n  mutate(newrank = min_rank(finishTime.seconds)) %>% \n  filter(firstName==\"Petr\", lastName == \"Bouchal\") %>% \n  select(newrank)\n\nyy %>% \n  group_by(occupation, ageGroup, subeventSplit.title) %>%\n  arrange(finishTime.seconds) %>% \n  mutate(newrank = min_rank(finishTime.seconds)) %>% \n  filter(firstName==\"Petr\", lastName == \"Bouchal\") %>% \n  select(newrank, rank, pace)\n\n",
    "created" : 1464427807919.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1348551842",
    "id" : "5056D6CC",
    "lastKnownWriteTime" : 1464428455,
    "last_content_update" : 1464428455686,
    "path" : "~/github/prgmarathon/prgmarathon.R",
    "project_path" : "prgmarathon.R",
    "properties" : {
        "chunk_rendered_width" : "650"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}